@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Lato:wght@300;400;700&family=Montserrat:wght@400;500;600;700;800&family=Cause:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap");

@import "./styles/design-tokens.css";
@import "tailwindcss";

@theme {
  --color-border: hsl(var(--border));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-input: hsl(var(--input));

  --animate-pulse-subtle: pulse-subtle 4s var(--ease-in-out) infinite;
  --animate-fade-in: fade-in 0.7s var(--ease-smooth) forwards;
  --animate-fade-in-delay-1: fade-in 0.7s var(--ease-smooth) 0.2s forwards;
  --animate-fade-in-delay-2: fade-in 0.7s var(--ease-smooth) 0.4s forwards;
  --animate-fade-in-delay-3: fade-in 0.7s var(--ease-smooth) 0.6s forwards;
  --animate-fade-in-delay-4: fade-in 0.7s var(--ease-smooth) 0.8s forwards;
  --animate-meteor: meteor 5s linear infinite;

  @keyframes pulse-subtle {
    0% { opacity: var(--opacity-20); }
    50% { opacity: var(--opacity-90); }
    100% { opacity: var(--opacity-100); }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translate3d(0, 20px, 0);
    }
    to {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }
  }

  @keyframes meteor {
    0% {
      transform: rotate(218deg) translateX(0px);
      opacity: 0;
    }
    30% { opacity: 0; }
    33% { opacity: 1; }
    69% { opacity: 1; }
    100% {
      transform: rotate(218deg) translateX(-500px);
      opacity: 0;
    }
  }
}

@layer base {
  /* Accessibility: Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    *, ::before, ::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  :root {
    --background: 210 40% 98%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --primary: 200 90% 40%;
    --primary-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --accent: 35 90% 50%;
    --muted: 215 16% 47%;
  }

  .dark {
    --background: 224 71% 0%;
    --foreground: 210 40% 95%;
    --card: 224 71% 0%;
    --primary: 38 100% 60%;
    --primary-foreground: 224 71% 0%;
    --border: 215 20% 15%;
    --input: 215 20% 15%;
    --accent: 35 100% 47%;
    --muted: 215 15% 52%;
  }

  /* GLOBAL SMOOTH TRANSITIONS */
  *, ::before, ::after {
    @apply border-border;
    box-sizing: border-box;
    font-family: "Open Sans", "Roboto Mono", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
  }

  code, pre, kbd, samp {
    font-family: "Roboto Mono", monospace;
  }

  /* Smooth Theme Transition for background/color only */
  body, .bg-card, .bg-background {
    transition: background-color var(--duration-standard) var(--ease-smooth),
                color var(--duration-standard) var(--ease-smooth),
                border-color var(--duration-standard) var(--ease-smooth);
  }

  .dark .bg-card:not(.chat-message-box),
  .dark .gradient-border {
    border-width: 1.5px !important;
    border-color: transparent !important;
    border-style: solid !important;
    transition: border-color var(--duration-fast) var(--ease-smooth), 
                box-shadow var(--duration-fast) var(--ease-smooth),
                transform var(--duration-fast) var(--ease-smooth); 
  }

  .bg-card:not(.chat-message-box):hover,
  .gradient-border:hover {
    border-width: 1.5px !important;
    border-style: solid !important;
    border-color: hsl(var(--primary)) !important;
  }

  /* Light mode specific shadow */
  html:not(.dark) .bg-card:not(.chat-message-box):hover,
  html:not(.dark) .gradient-border:hover {
    box-shadow: var(--glow-md) !important;
  }

  /* Dark mode specific shadow */
  .dark .bg-card:not(.chat-message-box):hover,
  .dark .gradient-border:hover {
    box-shadow: var(--glow-lg) !important;
  }

  .dark .chat-message-box {
    border-width: 0px !important;
    border-color: transparent !important;
  }

  /* Light mode override for AboutMe to prevent layout shift */
  html:not(.dark) #AboutMe .cosmic-button,
  html:not(.dark) #AboutMe .view-resume-button {
    border-width: 2px !important;
  }

  input,
  textarea {
    transition: all var(--duration-fast) var(--ease-smooth) !important;
    will-change: border-color, box-shadow;
    caret-color: hsl(var(--primary));
    caret-width: 2px;
  }

  input:hover,
  textarea:hover,
  input:focus,
  textarea:focus,
  input:not(:placeholder-shown),
  textarea:not(:placeholder-shown) {
    border-width: 1.5px !important;
    border-style: solid !important;
    transition: all var(--duration-fast) var(--ease-smooth) !important;
  }

  html {
    @apply scroll-smooth;
    font-size: clamp(var(--text-sm), 0.875rem + 0.25vw, var(--text-base));
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-family: "Space Grotesk", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    letter-spacing: 0.015em;
  }

  /* Performance optimization for sections */
  section {
    contain: content;
    will-change: transform; /* Hint for compositing */
  }

  /* Mobile phones - smallest screens */
  @media (max-width: 640px) {
    html {
      font-size: 0.925rem; /* ~14.8px - Reduced from 16px for better density */
    }
  }

  /* Tablets portrait and small tablets */
  @media (min-width: 641px) and (max-width: 768px) {
    html {
      font-size: 0.95rem; /* ~15.2px */
    }
  }

  /* Tablets landscape and medium tablets */
  @media (min-width: 769px) and (max-width: 1024px) {
    html {
      font-size: 1rem; /* ~16px */
    }
  }

  /* Large tablets and small desktops */
  @media (min-width: 1025px) and (max-width: 1280px) {
    html {
      font-size: 1.05rem; /* ~16.8px */
    }
  }

  /* Desktop and larger */
  @media (min-width: 1281px) {
    html {
      font-size: var(--text-base);
    }
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    overflow-x: hidden;
    width: 100%;
    min-height: 100vh;
    font-size: clamp(0.875rem, 0.8125rem + 0.3vw, 1rem); /* Fallback */
  }

  @media (min-width: 1024px) {
    body,
    a,
    button,
    [role="button"],
    .cursor-pointer,
    input,
    textarea,
    select,
    * {
      cursor: none !important;
    }
  }

  /* Paragraph text - scales responsively */
  p {
    font-family: "Lato", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    font-weight: var(--font-normal);
    line-height: 1.4; /* Tighter line spacing */
    font-size: clamp(var(--text-sm), 0.8125rem + 0.3vw, var(--text-lg));
    word-spacing: 0.1em; /* Increased word spacing for readability */
    letter-spacing: 0.02em; /* Add letter spacing */
  }

  /* Mobile-specific paragraph sizing */
  @media (max-width: 640px) {
    p {
      font-size: var(--text-sm);
      line-height: 1.35; /* Tighter for mobile */
    }
  }

  /* All headings - shared properties */
  h1, h2, h3, h4, h5, h6 {
    font-family: "Montserrat", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    font-weight: var(--font-bold);
    letter-spacing: 0.01em; /* Positive letter spacing for headings */
    margin-bottom: 0.5em;
    word-spacing: 0.08em; /* Increased word spacing */
  }

  /* H1 - Largest heading, hero text */
  h1 {
    font-size: clamp(var(--text-3xl), 1.25rem + 3vw, var(--text-5xl));
    line-height: 1.1; /* Tighter for impact */
    font-weight: 800;
  }

  @media (max-width: 640px) {
    h1 {
      font-size: var(--text-3xl);
      line-height: 1.2;
    }
  }

  /* H2 - Section headings */
  h2 {
    font-size: clamp(var(--text-2xl), 1rem + 2.5vw, var(--text-4xl));
    line-height: 1.15; /* Tighter */
    font-weight: var(--font-bold);
  }

  @media (max-width: 640px) {
    h2 {
      font-size: var(--text-2xl);
    }
  }

  /* H3 - Subsection headings */
  h3 {
    font-size: clamp(var(--text-xl), 0.875rem + 2vw, var(--text-3xl));
    line-height: 1.25; /* Tighter */
    font-weight: var(--font-bold);
  }

  @media (max-width: 640px) {
    h3 {
      font-size: var(--text-xl);
    }
  }

  /* H4 - Card titles, smaller sections */
  h4 {
    font-size: clamp(var(--text-lg), 0.875rem + 1.25vw, var(--text-xl));
    line-height: 1.3; /* Tighter */
    font-weight: var(--font-semibold);
  }

  /* H5 - Small headings */
  h5 {
    font-size: clamp(var(--text-base), 0.875rem + 0.875vw, var(--text-lg));
    line-height: 1.45;
    font-weight: var(--font-semibold);
  }

  /* H6 - Smallest headings */
  h6 {
    font-size: clamp(var(--text-sm), 0.875rem + 0.5vw, var(--text-base));
    line-height: 1.5;
    font-weight: var(--font-semibold);
  }
}

@utility container {
  margin-inline: auto;
  padding-inline: clamp(1rem, 2.5vw + 0.5rem, 2.5rem);
  width: 100%;

  @media (width>= 640px) { max-width: 640px; }
  @media (width>= 768px) { max-width: 768px; padding-inline: clamp(1.5rem, 3vw + 0.25rem, 2.25rem); }
  @media (width>= 1024px) { max-width: 1024px; padding-inline: clamp(1.75rem, 3vw, 2rem); }
  @media (width>= 1280px) { max-width: 1280px; }
  @media (width>= 1400px) { max-width: 1400px; }
}

.section-spacing {
  padding-top: clamp(2.5rem, 4vw + 1rem, 5rem);
  padding-bottom: clamp(2.5rem, 4vw + 1rem, 5rem);
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

@media (max-width: 640px) {
  * { -webkit-tap-highlight-color: transparent; }
  body { font-size: 14px; }
}

.text-glow {
  @apply relative;
  text-shadow: 0 0 20px rgba(255, 215, 100, 0.4);
}

.card-hover {
  /* REPLACING transition-none with proper smooth transition */
  transition: transform var(--duration-standard) var(--ease-smooth),
              box-shadow var(--duration-standard) var(--ease-smooth),
              border-color var(--duration-standard) var(--ease-smooth);
  will-change: transform, box-shadow;
}

.card-hover:hover {
  box-shadow: var(--glow-sm);
  transform: none;
}

.gradient-border {
  @apply relative rounded-md;
  background: linear-gradient(to right, hsl(var(--card)), hsl(var(--card)));
  background-clip: padding-box;
  border: 2px solid hsl(var(--primary));
  transition: box-shadow var(--duration-standard) var(--ease-smooth),
              border-color var(--duration-standard) var(--ease-smooth);
  will-change: box-shadow, border-color;
}

#About .gradient-border:hover,
#skills .gradient-border:hover,
#Skills .gradient-border:hover {
  box-shadow: var(--glow-md);
  border-color: hsl(var(--primary));
  transform: none;
}

.dark .gradient-border:hover {
  background: linear-gradient(to right, hsl(224 71% 2%), hsl(224 71% 2%));
  border-color: hsl(190 100% 35%);
}

.dark #About .gradient-border:hover,
.dark #skills .gradient-border:hover,
.dark #Skills .gradient-border:hover {
  background: linear-gradient(to right, hsl(224 71% 2%), hsl(224 71% 2%));
  border-color: hsl(190 100% 35%);
  box-shadow: var(--glow-lg);
}

.cosmic-button {
  @apply rounded-full bg-primary text-primary-foreground font-medium tracking-wide
  border border-white/10; 
  /* Enabled transition */
  /* Enabled transition */
  transition: box-shadow var(--duration-fast) var(--ease-smooth),
              background-color var(--duration-fast) var(--ease-smooth),
              transform var(--duration-fast) var(--ease-smooth);
  
  /* Reverted padding to standard, but increased font size on mobile */
  padding: 0.45rem 1.35rem;
  
  /* Font size: Larger on mobile (shorter display), standard on desktop */
  font-size: 1.15rem; 
  
  white-space: nowrap;
  
  will-change: box-shadow, transform;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

@media (min-width: 768px) {
  .cosmic-button {
    padding: 0.55rem 1.75rem;
    font-size: 1rem; /* Smaller on larger screens as requested */
  }
}

.cosmic-button svg,
.cosmic-button .icon-sm,
.cosmic-button .icon-md {
  width: 1.2em;
  height: 1.2em;
  transition: transform var(--duration-fast) var(--ease-smooth);
}

.cosmic-button:hover {
  transform: scale(1.02);
  box-shadow: var(--glow-md);
}

.dark .cosmic-button:hover {
  border-width: 1.5px !important;
}

.view-resume-button {
  transition: background-color var(--duration-fast) var(--ease-smooth);
  /* Matching cosmic-button metrics */
  padding: 0.45rem 1.35rem;
  font-size: 1.15rem; /* Larger on mobile */
  
  white-space: nowrap;
  
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

@media (min-width: 768px) {
  .view-resume-button {
    padding: 0.55rem 1.75rem;
    font-size: 1rem; /* Smaller on larger screens */
  }
}

.view-resume-button svg,
.view-resume-button .icon-sm,
.view-resume-button .icon-md {
  width: 1.2em;
  height: 1.2em;
  transition: transform var(--duration-fast) var(--ease-smooth);
}

.view-resume-button:hover {
  transform: none;
}

.star {
  @apply absolute rounded-full;
  background-color: #fff;
  box-shadow: 0 0 4px 1px rgba(255, 255, 255, 0.8),
    0 0 12px 2px rgba(59, 189, 219, 0.3);
  will-change: transform, opacity;
  transform: translateZ(0); /* Trigger hardware acceleration */
}

.meteor {
  @apply absolute bg-linear-to-r from-white via-white to-transparent rounded-full;
  box-shadow: 0 0 10px 5px rgba(255, 255, 255, 0.3);
  opacity: 0;
  will-change: transform, opacity;
  transform: translateZ(0); /* Trigger hardware acceleration */
}

#root {
  max-width: 100%;
  margin: 0 auto;
  padding: 0;
  text-align: center;
}

.hollow-circle {
  list-style: none;
  margin: 0;
  padding-left: 0;
  text-align: left;
}

.hollow-circle li {
  position: relative;
  padding-left: 1.5rem;
  margin-bottom: 0.25rem;
}

.hollow-circle li::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.6em;
  width: 0.5em;
  height: 0.5em;
  border: 2.5px solid hsl(var(--primary));
  border-radius: 50%;
  background-color: transparent;
  transform: translateY(-50%);
}

.theme-toggle-btn {
  transition: transform var(--duration-fast) var(--ease-smooth),
              box-shadow var(--duration-fast) var(--ease-smooth),
              border-color var(--duration-fast) var(--ease-smooth);
}

.theme-toggle-btn:hover {
  box-shadow: var(--glow-md);
  border-color: hsl(var(--primary));
}

.dark .theme-toggle-btn:hover {
  box-shadow: 0 0 5px rgba(202, 138, 4, 0.7), 0 0 15px rgba(202, 138, 4, 0.5),
    0 0 30px rgba(202, 138, 4, 0.3);
  border-color: #ca8a04;
}

.custom-cursor {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 12px;
  height: 12px;
  background: hsl(var(--background));
  border: 3px solid hsl(var(--primary));
  pointer-events: none;
  z-index: 9999;
  transform: translate3d(0,0,0) rotate(45deg); /* Init state */
  will-change: transform, opacity;
  backface-visibility: hidden;
  transition: width var(--duration-fast) var(--ease-out),
              height var(--duration-fast) var(--ease-out),
              opacity var(--duration-fast) linear;
}

@media (min-width: 1024px) {
  .custom-cursor {
    display: block;
  }
}

.custom-cursor.hover {
  width: 14px;
  height: 14px;
  opacity: 1;
}

/* Custom Scrollbar for Webkit */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted) / 0.3);
  border-radius: 10px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted) / 0.5);
}

/* Global Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: hsl(var(--background));
}
::-webkit-scrollbar-thumb {
  background: hsl(var(--muted) / 0.4);
  border-radius: 4px;
  border: 2px solid hsl(var(--background));
}
::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--primary) / 0.6);
}

/* Hide scrollbar while keeping functionality */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;     /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

.chat-message-text {
  font-size: 0.875rem;
  line-height: 1.4;
  font-family: 'Cause', sans-serif;
  font-weight: 600;
}

/* Responsive Icon Sizes */
.icon-sm {
  width: clamp(1rem, 0.875rem + 0.5vw, 1.25rem);
  height: clamp(1rem, 0.875rem + 0.5vw, 1.25rem);
}

.icon-md {
  width: clamp(1.25rem, 1rem + 0.75vw, 1.75rem);
  height: clamp(1.25rem, 1rem + 0.75vw, 1.75rem);
}

.icon-lg {
  width: clamp(1.5rem, 1.25rem + 1vw, 2rem);
  height: clamp(1.5rem, 1.25rem + 1vw, 2rem);
}

.icon-xl {
  width: clamp(2rem, 1.5rem + 1.5vw, 3rem);
  height: clamp(2rem, 1.5rem + 1.5vw, 3rem);
}

/* Responsive Input */
.responsive-input {
  @apply w-full rounded-full border border-input bg-background focus:ring-1 focus:ring-primary focus:border-primary focus:outline-hidden;
  font-size: clamp(0.875rem, 0.8rem + 0.25vw, 1rem);
  /* Reduced vertical padding, ensuring horizontal padding accommodates rounded corners */
  padding: clamp(0.2rem, 0.15rem + 0.2vw, 0.35rem) clamp(0.85rem, 0.6rem + 0.5vw, 1rem);
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.responsive-input::placeholder {
  font-size: 0.85em; /* Smaller placeholder text */
  opacity: 0.8;
}

textarea.responsive-input {
  @apply rounded-2xl;
  /* Slightly more vertical padding for textarea to look balanced */
  padding: clamp(0.4rem, 0.35rem + 0.25vw, 0.6rem) clamp(0.85rem, 0.6rem + 0.5vw, 1rem);
}
